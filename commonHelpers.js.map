{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const getData = event => {\n  const searchInputValue = event.srcElement.elements.search_input.value;\n  const options = {\n    key: '43212506-95870309335e8ebf3ea9c8656',\n    q: searchInputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  };\n\n  const searchParams = new URLSearchParams(options).toString();\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","export const renderElements = searchData => {\n  return searchData\n    .map(img => {\n      return `\n      <li class=\"gallery-item\"><a href=\"${img.largeImageURL}\" class=\"gallery-link\"><img src=\"${img.webformatURL}\"\n            alt=\"${img.tags}\" class=\"gallery-img\"></a>\n        <div class=\"card-content\">\n          <div class=\"label-cont\"><span class=\"label\">Likes</span><span class=\"value\">${img.likes}</span></div>\n          <div class=\"label-cont\"><span class=\"label\">Views</span><span class=\"value\">${img.views}</span></div>\n          <div class=\"label-cont\"><span class=\"label\">Comments</span><span class=\"value\">${img.comments}</span>\n          </div>\n          <div class=\"label-cont\"><span class=\"label\">Downloads</span><span class=\"value\">${img.downloads}</span></div>\n        </div>\n      </li>\n      `;\n    })\n    .join('');\n};\n","import { getData } from './js/pixabay-api';\nimport { renderElements } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst elements = {\n  searchForm: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst messages = {\n  noMatches() {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#fff',\n      backgroundColor: '#ff3333',\n      position: 'topRight',\n    });\n  },\n};\n\nconst options = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\nconst imageModal = new SimpleLightbox('.gallery a', options);\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  elements.gallery.innerHTML = '';\n  elements.loader.classList.add('is-open');\n\n  getData(event)\n    .then(data => {\n      if (data.hits.length === 0) {\n        messages.noMatches();\n        return;\n      }\n      elements.gallery.insertAdjacentHTML(\n        'beforeend',\n        renderElements(data.hits)\n      );\n      imageModal.refresh();\n    })\n    .finally(() => {\n      elements.loader.classList.remove('is-open');\n    });\n};\n\nelements.searchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["getData","event","options","url","response","renderElements","searchData","img","elements","messages","iziToast","imageModal","SimpleLightbox","onSearchFormSubmit","data"],"mappings":"wvBAAO,MAAMA,EAAUC,GAAS,CAE9B,MAAMC,EAAU,CACd,IAAK,qCACL,EAHuBD,EAAM,WAAW,SAAS,aAAa,MAI9D,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACd,EAGQE,EAAM,4BADS,IAAI,gBAAgBD,CAAO,EAAE,SAAQ,CACN,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECpBaC,EAAiBC,GACrBA,EACJ,IAAIC,GACI;AAAA,0CAC6BA,EAAI,aAAa,oCAAoCA,EAAI,YAAY;AAAA,mBAC5FA,EAAI,IAAI;AAAA;AAAA,wFAE6DA,EAAI,KAAK;AAAA,wFACTA,EAAI,KAAK;AAAA,2FACNA,EAAI,QAAQ;AAAA;AAAA,4FAEXA,EAAI,SAAS;AAAA;AAAA;AAAA,OAIpG,EACA,KAAK,EAAE,ECPNC,EAAW,CACf,WAAY,SAAS,cAAc,cAAc,EACjD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAW,CACf,WAAY,CACVC,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,OACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,CACF,CACH,EAEMR,EAAU,CACd,aAAc,MACd,aAAc,GAChB,EACMS,EAAa,IAAIC,EAAe,aAAcV,CAAO,EAErDW,EAAqBZ,GAAS,CAClCA,EAAM,eAAc,EAEpBO,EAAS,QAAQ,UAAY,GAC7BA,EAAS,OAAO,UAAU,IAAI,SAAS,EAEvCR,EAAQC,CAAK,EACV,KAAKa,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BL,EAAS,UAAS,EAClB,MACD,CACDD,EAAS,QAAQ,mBACf,YACAH,EAAeS,EAAK,IAAI,CAChC,EACMH,EAAW,QAAO,CACxB,CAAK,EACA,QAAQ,IAAM,CACbH,EAAS,OAAO,UAAU,OAAO,SAAS,CAChD,CAAK,CACL,EAEAA,EAAS,WAAW,iBAAiB,SAAUK,CAAkB"}