{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import { elements } from '../main';\nimport { messages } from '../main';\n\nexport const getData = (url, options) => {\n  elements.gallery.innerHTML = '';\n\n  elements.loader.classList.add('is-open');\n\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .catch(() => {\n      messages.iziToast.somethingWentWrong();\n    })\n    .finally(() => {\n      elements.loader.classList.remove('is-open');\n    });\n};\n","export const renderElements = (searchData, rootElement) => {\n  const markup = searchData\n    .map(img => {\n      return `\n      <li class=\"gallery-item\"><a href=\"${img.largeImageURL}\" class=\"gallery-link\"><img src=\"${img.webformatURL}\"\n            alt=\"${img.tags}\" class=\"gallery-img\"></a>\n        <div class=\"card-content\">\n          <div class=\"label-cont\"><span class=\"label\">Likes</span><span class=\"value\">${img.likes}</span></div>\n          <div class=\"label-cont\"><span class=\"label\">Views</span><span class=\"value\">${img.views}</span></div>\n          <div class=\"label-cont\"><span class=\"label\">Comments</span><span class=\"value\">${img.comments}</span>\n          </div>\n          <div class=\"label-cont\"><span class=\"label\">Downloads</span><span class=\"value\">${img.downloads}</span></div>\n        </div>\n      </li>\n      `;\n    })\n    .join('');\n\n  rootElement.insertAdjacentHTML('beforeend', markup);\n};\n","import { getData } from './js/pixabay-api';\nimport { renderElements } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const elements = {\n  searchForm: document.querySelector('.search-form'),\n  searchInput: document.querySelector('.search-input'),\n  searchButton: document.querySelector('.search-button'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nexport const messages = {\n  iziToast: {\n    noMatches() {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#fff',\n        backgroundColor: '#ff3333',\n        position: 'topRight',\n      });\n    },\n    somethingWentWrong() {\n      iziToast.show({\n        message: 'Sorry, something went wrong. Please try again later!',\n        messageColor: '#fff',\n        backgroundColor: '#ff3333',\n        position: 'topRight',\n      });\n    },\n  },\n};\n\nconst options = {\n  simpleLightBox: { captionsData: 'alt', captionDelay: 250 },\n};\n\nconst imageModal = new SimpleLightbox('.gallery a', options.simpleLightBox);\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchInputValue = event.srcElement.elements.search_input.value;\n  const options = {\n    key: '43212506-95870309335e8ebf3ea9c8656',\n    q: searchInputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  };\n\n  const searchParams = new URLSearchParams(options).toString();\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  const searchData = getData(url, options);\n  searchData.then(data => {\n    if (data.hits.length === 0) {\n      messages.iziToast.noMatches();\n      return;\n    }\n    renderElements(data.hits, elements.gallery);\n    imageModal.refresh();\n  });\n};\n\nelements.searchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["getData","url","options","elements","response","messages","renderElements","searchData","rootElement","markup","img","iziToast","imageModal","SimpleLightbox","onSearchFormSubmit","event","data"],"mappings":"6vBAGO,MAAMA,EAAU,CAACC,EAAKC,KAC3BC,EAAS,QAAQ,UAAY,GAE7BA,EAAS,OAAO,UAAU,IAAI,SAAS,EAEhC,MAAMF,EAAKC,CAAO,EACtB,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAM,IAAM,CACXC,EAAS,SAAS,oBACxB,CAAK,EACA,QAAQ,IAAM,CACbF,EAAS,OAAO,UAAU,OAAO,SAAS,CAChD,CAAK,GCrBQG,EAAiB,CAACC,EAAYC,IAAgB,CACzD,MAAMC,EAASF,EACZ,IAAIG,GACI;AAAA,0CAC6BA,EAAI,aAAa,oCAAoCA,EAAI,YAAY;AAAA,mBAC5FA,EAAI,IAAI;AAAA;AAAA,wFAE6DA,EAAI,KAAK;AAAA,wFACTA,EAAI,KAAK;AAAA,2FACNA,EAAI,QAAQ;AAAA;AAAA,4FAEXA,EAAI,SAAS;AAAA;AAAA;AAAA,OAIpG,EACA,KAAK,EAAE,EAEVF,EAAY,mBAAmB,YAAaC,CAAM,CACpD,ECVaN,EAAW,CACtB,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,eAAe,EACnD,aAAc,SAAS,cAAc,gBAAgB,EACrD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEaE,EAAW,CACtB,SAAU,CACR,WAAY,CACVM,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,OACd,gBAAiB,UACjB,SAAU,UAClB,CAAO,CACF,EACD,oBAAqB,CACnBA,EAAS,KAAK,CACZ,QAAS,uDACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAClB,CAAO,CACF,CACF,CACH,EAEMT,EAAU,CACd,eAAgB,CAAE,aAAc,MAAO,aAAc,GAAK,CAC5D,EAEMU,EAAa,IAAIC,EAAe,aAAcX,EAAQ,cAAc,EAEpEY,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAGpB,MAAMb,EAAU,CACd,IAAK,qCACL,EAHuBa,EAAM,WAAW,SAAS,aAAa,MAI9D,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACd,EAGQd,EAAM,4BADS,IAAI,gBAAgBC,CAAO,EAAE,SAAQ,CACN,GAEjCF,EAAQC,EAAKC,CAAO,EAC5B,KAAKc,GAAQ,CACtB,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BX,EAAS,SAAS,YAClB,MACD,CACDC,EAAeU,EAAK,KAAMb,EAAS,OAAO,EAC1CS,EAAW,QAAO,CACtB,CAAG,CACH,EAEAT,EAAS,WAAW,iBAAiB,SAAUW,CAAkB"}